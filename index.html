<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WEBSITE NGHE NHẠC ĐOÁN BÀI HÁT</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Trang chính -->
    <div id="mainMenu" class="screen active">
        <div class="container">
            <h1 class="title">WEBSITE NGHE NHẠC ĐOÁN BÀI HÁT</h1>
            <p class="subtitle">
                ĐƯỢC TẠO BỞI: Nguyễn Chí Dự 🇻🇳♥️🇻🇳<br>
                <small>Phiên bản 4.2 – SIÊU BẢO VỆ (09/01/2026)<br>
                Verification code 4 số tự động gửi THẬT vào Gmail khi bấm GỬI MÃ<br>
                Code hết hạn sau 15 phút<br>
                Đăng ký/Đăng nhập/Admin Panel đều cần code hợp lệ<br>
                Xóa tài khoản an toàn với xác nhận mật khẩu</small>
            </p>

            <button class="btn primary large" onclick="showLogin()">ĐĂNG NHẬP</button>
            <button class="btn secondary large" onclick="showRegister()">ĐĂNG KÝ TÀI KHOẢN</button>

            <div class="footer">
                <button class="btn small outline" onclick="showReportBug()">🛠️ Báo lỗi</button>
            </div>
        </div>
    </div>

    <!-- Trang chính sau đăng nhập -->
    <div id="mainHome" class="screen">
        <div class="container">
            <h1>Xin chào!</h1>
            <p id="welcomeUser" class="welcome-text">Đang tải...</p>
            <p id="userProfile" style="font-size:1.2rem; color:#a0e7ff; margin:20px 0; font-weight:bold;"></p>

            <button class="btn primary extra-large" onclick="checkOnlineAndLogin()">🎵 BẮT ĐẦU CHƠI</button>

            <label class="tts-toggle">
                <input type="checkbox" id="ttsToggle" checked>
                <span>🔊 Bật/Tắt chị Google (TTS)</span>
            </label>

            <button class="btn info large" onclick="showInfo()">ℹ️ THÔNG TIN & UPDATE</button>

            <button class="btn danger large" onclick="logout()">🚪 ĐĂNG XUẤT</button>

            <button class="btn danger large" onclick="deleteAccountConfirm()">🗑️ XÓA TÀI KHOẢN</button>

            <button class="btn danger large" onclick="showAdminLogin()">🔧 ADMIN PANEL</button>

            <div class="footer">
                <button class="btn small outline" onclick="showReportBug()">🛠️ Báo lỗi</button>
            </div>
        </div>
    </div>

    <!-- Trang chơi game -->
    <div id="mainGame" class="screen">
        <div class="game-header">
            <div>Điểm số: <span id="score">0</span> 🏆</div>
            <div>Câu hỏi: <span id="questionNum">1</span>/∞</div>
        </div>

        <div class="music-player">
            <button id="playBtn" class="play-button" onclick="playClip()">▶️ PHÁT ĐOẠN NHẠC</button>
            <p class="hint">Chỉ nghe âm thanh thôi nhé chúc may mắn 😉<br>
            Đoán tên bài hát của Sơn Tùng, Alan Walker, NEFFEX, TheFatRat nào!</p>
        </div>

        <div class="answer-section">
            <input type="text" id="answerInput" placeholder="Nhập tên bài hát ở đây..." autocomplete="off">
            <button class="btn primary" onclick="submitAnswer()">GỬI ĐÁP ÁN</button>
            <button class="btn giveup" onclick="surrenderConfirm()">😞 CHỊU THUA</button>
        </div>

        <div class="game-controls">
            <button class="btn skip" id="skipBtn" onclick="skipConfirm()">⏩ SKIP (-30 điểm)</button>
            <button class="btn warning" onclick="resetConfirm()">⚠️ RESET ĐIỂM</button>
            <button class="btn restart" onclick="restartConfirm()">🔃 RESTART</button>
            <button class="btn giveup" id="giveupBtn" onclick="giveUpConfirm()">TỪ BỎ (-10 điểm)</button>
            <button class="btn danger" onclick="stopConfirm()">🛑 STOP GAME</button>
            <button class="btn home" onclick="backToHome()">🏠 TRỞ VỀ TRANG CHỦ</button>
        </div>
    </div>

    <!-- Modal chung -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">×</span>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- Thông báo toast -->
    <div id="notification" class="notification"></div>

    <!-- Thư viện EmailJS (để gửi mã verification THẬT) -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

    <script src="script.js"></script>
</body>
</html>
